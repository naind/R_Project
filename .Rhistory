install.packages("C:/Users/94050/Downloads/XML_3.99-0.5.zip", repos = NULL, type = "win.binary")
install.packages('XML')
library(XML)
library(XML)
install.packages('XML')
install.packages('XML')
install.packages("C:/Users/94050/Downloads/XML_3.98-1.tar.gz", repos = NULL, type = "source")
library(XML)
install.packages('XML')
install.packages("XML", repos = "http://www.omegahat.org/R")
.path.package()
.path.package()
.path.package()
library(httr)
.path.package()
.path.package()
path.package()
install.packages("XML", repos = "http://www.omegahat.net/R")
library(XML)
library(httr)
library(XML)
library(XML)
library(XML)
library(XML)
install.packages("XML", repos = "http://www.omegahat.net/R")
library(XML)
library(XML)
install.packages("XML", type = "binary")
library(XML)
library(XML)
web=htmlParse(web)
xpathSApply(web, '//*[@id="movieList"]/li[1]/div[2]/p[2]', xmlValue)
xpathSApply(web, '//*[@id="movieList"]/li[1]/div[2]/p[2]', xmlValue)
web=GET('https://www.megabox.co.kr/movie')
web=htmlParse(web)
xpathSApply(web, '//*[@id="movieList"]/li[1]/div[2]/p[2]', xmlValue)
xpathSApply(web, '//*[@id="movieList"]/li[1]/div[2]/p[2]', xmlValue)
web=htmlParse(web)
web=htmlParse(web)
web=GET('https://www.megabox.co.kr/movie')
web=htmlParse(web)
library(httr)
library(XML)
url='https://www.megabox.co.kr/movie'
web=GET(url)
web=htmlParse(web)
xpath1 = '//*[@id="movieList"]/li[1]/div[2]/p[2]'
x = xpathSApply(web, xpath1, xmlValue)
x
xpathSApply(web, xpath1, xmlValue)
xpathSApply(web, '/html/body/div[2]/div[2]/div[2]/div/div[4]/ol/li[1]/div[2]/p[2]', xmlValue)
xpathSApply(web, '/html/body/div[2]/div[2]/div[2]/div/div[4]/ol/li[1]/div[2]/p[2]', xmlValue)
library(httr)
library(XML)
url='https://ridibooks.com/bestsellers/general?order=monthly'
web=GET(url)
web=htmlParse(web)
xpath1 = '//*[@id="page_best"]/div[2]/div[1]/div[2]/h3/a/span'
x = xpathSApply(web, xpath1, xmlValue)
x
library(httr)
library(XML)
url='https://www.megabox.co.kr/movie'
web=GET(url)
web=htmlParse(web)
xpath1 = '//*[@id="movieList"]/li[1]/div[2]/p[2]'
x = xpathSApply(web, xpath1, xmlValue)
x
library(httr)
library(XML)
library(XML)
url <- 'https://www.megabox.co.kr/movie'
dat <- GET(url)
content(dat)
dat %<% html_nodes(dat, "#movieList .tit")
dat <- html_nodes(dat, "#movieList .tit")
library(rvest)
library(rvest)
dat <- html_nodes(dat, "#movieList .tit")
url <- 'https://www.megabox.co.kr/movie'
dat <- GET(url)
dat %<% content(dat)
dat <- content(dat)
dat <- content(dat)
url <- 'https://www.megabox.co.kr/movie'
dat <- GET(url)
dat <- content(dat)
dat
dat1 <- html_nodes(dat, "#movieList .tit")
dat2 %<% html_text(dat1)
dat2 <- html_text(dat1)
dat3 = html_text(dat2)
dat1
dat2 <- html_text(dat1)
dat3 = html_text(dat2)
dat2
headers(dat)
url <- 'https://www.megabox.co.kr/movie'
dat <- GET(url)
headers(dat)
headers(dat)
library(httr)
library(rvest)
url <- 'https://www.megabox.co.kr/movie'
dat <- GET(url)
?add_headers
?httr::add_headers
?httr::
dat <- content(dat)
?httr::
?GET
httr::add_headers(?)
url <- 'https://www.megabox.co.kr/movie'
ah <- httr::add_headers("Referer" = "https://www.megabox.co.kr/movie")
dat <- GET(url, ah)
content(dat)
dat <- GET(url, ah)
dat1 <- content(dat)
dat1
dat2 <- html_nodes(dat1, "li")
dat2
dat2 <- html_nodes(dat1, "li p")
dat2
dat2 <- html_nodes(dat1, "li p")
dat2
dat2 <- html_nodes(dat1, "li div")
dat2
dat2 <- html_nodes(dat1, "li div p")
dat2
dat2
dat2 <- html_nodes(dat1, "li div")
dat3 <- html_text(dat2)
dat3
dat2 <- html_nodes(dat1, "li")
dat3 <- html_text(dat2)
dat3
bin <- content(url, "raw")
bin <- content(url, "raw")
df <- data.frame(dat3)
write.csv(df, "craw결과.csv", row.names = FALSE)
write.csv(df, "craw결과.csv", row.names = FALSE)
write.csv(df, "craw결과.csv", row.names = FALSE)
url <- 'https://www.megabox.co.kr/movie'
ah <- httr::add_headers("Referer" = "https://www.megabox.co.kr/movie")
dat <- GET(url, ah)
dat1 <- content(dat)
dat2 <- html_nodes(dat1, "$0")
dat2 <- html_nodes(dat1, "li $0")
dat2 <- html_nodes(dat1, "$0.innerText")
dat3 <- html_text(dat2)
dat <- GET(url, ah)
dat1 <- content(dat)
dat2 <- html_nodes(dat1, "ol .tit-area")
dat2
dat2
dat2 <- html_nodes(dat1, "ol .tit")
dat2
dat2 <- html_nodes(dat1, "ol .rank")
dat2
dat2
dat2 <- html_nodes(dat1, "ol .rank")
dat2 <- html_nodes(dat1, ".rank")
dat2
url <- 'https://www.megabox.co.kr/movie'
ah <- httr::add_headers("Referer" = "https://www.megabox.co.kr/movie")
dat <- GET(url, ah)
dat1 <- content(dat)
dat2 <- html_nodes(dat1, ".rank")
dat2
dat2 <- html_nodes(dat1, ".posterlozed")
dat2
url <- 'https://www.megabox.co.kr/movie'
ah <- httr::add_headers("Referer" = "https://www.megabox.co.kr/movie")
dat <- GET(url, ah)
dat1 <- content(dat)
dat2 <- html_nodes(dat1, ".posterlozed")
dat2
dat2 <- html_nodes(dat1, ".no-img")
dat2
dat <- GET(url, ah)
dat1 <- content(dat)
dat2 <- html_nodes(dat1, ".no-img")
dat2
dat2 <- html_nodes(dat1, ".movie-list")
dat2
dat1 <- content(dat)
dat2 <- html_nodes(dat1, ".movie-list[attr="alt"]")
dat2 <- html_nodes(dat1, ".movie-list[attr='alt']")
dat2
dat2
dat3 <- html_text(dat2)
dat3
#https://www.megabox.co.kr/movie
url <- 'https://ani24do.com/ani/day.html'
#ah <- httr::add_headers("Referer" = "https://www.megabox.co.kr/movie")
dat <- GET(url)
dat1 <- content(dat)
dat1
dat2 <- html_nodes(dat1, ".subject")
dat2
dat3 <- html_text(dat2)
dat3
#
url <- 'https://www.megabox.co.kr/movie'
#https://ani24do.com/ani/day.html
#ah <- httr::add_headers("Referer" = "https://www.megabox.co.kr/movie")
dat <- GET(url)
dat
#https://www.megabox.co.kr/movie
url <- 'https://ani24do.com/ani/day.html'
#ah <- httr::add_headers("Referer" = "https://www.megabox.co.kr/movie")
dat <- GET(url)
dat
#
url <- 'https://www.megabox.co.kr/movie'
#https://ani24do.com/ani/day.html
#ah <- httr::add_headers("Referer" = "https://www.megabox.co.kr/movie")
dat <- GET(url)
dat
dat1 <- content(dat)
dat1
dat2 <- html_nodes(dat1, ".subject")
dat2
#
url <- 'https://www.megabox.co.kr/movie'
#https://ani24do.com/ani/day.html
ah <- httr::add_headers("User-Agent" = = 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/84.0.4147.135 Safari/537.36')
#https://ani24do.com/ani/day.html
ah <- httr::add_headers("User-Agent" = 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/84.0.4147.135 Safari/537.36')
dat <- GET(url)
dat
dat1 <- content(dat)
dat1
dat2 <- html_nodes(dat1, ".subject")
dat2
#
url <- 'https://www.megabox.co.kr/movie'
#https://ani24do.com/ani/day.html
ah <- httr::add_headers("User-Agent" = 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/70.0.3538.77 Safari/537.36')
dat <- GET(url)
dat
#
url <- 'https://www.megabox.co.kr/movie'
#https://ani24do.com/ani/day.html
ah <- httr::add_headers("User-Agent" = 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/84.0.4147.135 Safari/537.36')
dat <- GET(url)
dat
dat1 <- content(dat)
dat1
dat2 <- html_nodes(dat1, ".subject")
dat2
dat2
dat2
dat2 <- html_nodes(dat1, ".tit-area")
dat2
dat2 <- html_nodes(dat1, "h2.tit")
dat2
#
#https://ani24do.com/ani/day.html
#https://www.megabox.co.kr/movie
url <- 'https://finance.naver.com/item/main.nhn?code=014680'
ah <- httr::add_headers("User-Agent" = 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/84.0.4147.135 Safari/537.36')
#https://finance.naver.com/item/main.nhn?code=014680
#https://ani24do.com/ani/day.html
#
url <- 'https://www.megabox.co.kr/movie'
ah <- httr::add_headers("User-Agent" = 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/84.0.4147.135 Safari/537.36')
dat <- GET(url, ah)
dat
dat1 <- content(dat)
dat1
dat2 <- html_nodes(dat1, "h2.tit")
dat2
dat2 <- html_nodes(dat1, "ol .tit")
dat2
dat <- GET(url, ah)
dat
dat1 <- content(dat)
dat1
dat2 <- html_nodes(dat1, "ol .tit")
dat2
dat2 <- html_nodes(dat1, ".on a")
dat2
dat2 <- html_nodes(dat1, ".on")
dat2
dat2 <- html_nodes(dat1, ".tit")
dat2
dat2 <- html_nodes(dat1, ".tit")
dat2
dat3 <- html_text(dat2)
dat3
dat2 <- html_nodes(dat1, ".tit-area")
dat2
dat2 <- html_nodes(dat1, ".tit-area")
dat2
#
#https://ani24do.com/ani/day.html
#https://www.megabox.co.kr/movie
url <- 'https://finance.naver.com/item/main.nhn?code=014680'
ah <- httr::add_headers("User-Agent" = 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/84.0.4147.135 Safari/537.36')
dat <- GET(url, ah)
dat
dat1 <- content(dat)
dat1
dat2 <- html_nodes(dat1, "tbody")
dat2
dat2 <- html_nodes(dat1, "tbody td em")
dat2
dat2 <- html_nodes(dat1, "tr")
dat2
dat2 <- html_nodes(dat1, "tr th")
dat2
url <- 'https://finance.naver.com/item/board.nhn?code=215360&page='
dat <- GET(url)
dat
url <- 'https://finance.naver.com/item/board.nhn?code=215360&page=1'
dat <- GET(url)
dat
dat1 <- content(dat)
dat1
dat2 <- html_nodes(dat1, "a")
dat2
dat2
dat3 <- html_text(dat2)
dat3
dat2 <- html_nodes(dat1, "tbody a")
dat2
url <- 'https://finance.naver.com/item/board.nhn?code=215360&page=1'
dat <- GET(url)
dat
dat1 <- content(dat)
dat1
dat2 <- html_nodes(dat1, "tbody a")
dat2
dat3 <- html_text(dat2)
dat3
dat2 <- html_nodes(dat1, "tbody td a")
dat2
url <- 'https://finance.naver.com/item/board.nhn?code=215360&page=1'
ah <- httr::add_headers("User-Agent" = 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/84.0.4147.135 Safari/537.36')
dat <- GET(url, ah)
dat
dat1 <- content(dat)
dat1
dat2 <- html_nodes(dat1, "tbody td a")
dat2
dat3 <- html_text(dat2)
dat3
dat2 <- html_nodes(dat1, ".title a")
dat2
dat3 <- html_text(dat2)
dat3
library(dplyr)
library(dplyr)
url <- 'https://finance.naver.com/item/board.nhn?code=215360&page=1'
ah <- httr::add_headers("User-Agent" = 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/84.0.4147.135 Safari/537.36')
GET(url, ah) %>%
content() %>%
html_nodes(".title a") %>%
html_text() %>%
reply
GET(url, ah) %>%
content() %>%
html_nodes(".title a") %>%
html_text() %>%
reply
GET(url, ah) %>%
content() %>%
html_nodes(".title a") %>%
html_text() %>%
reply
GET(url, ah) %>%
content() %>%
html_nodes(".title a") %>%
html_text() %>%
reply
url <- 'https://finance.naver.com/item/board.nhn?code=215360&page=1'
ah <- httr::add_headers("User-Agent" = 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/84.0.4147.135 Safari/537.36')
GET(url, ah) %>%
content() %>%
html_nodes(".title a") %>%
html_text() -> reply
relply
reply
trimws(reply, "both")
trimws(reply, "both")
reply
?trimp
?trimws
?trimws
?trim
trim(reply)
trim(reply)
TRIM(reply)
reply
GET(url, ah) %>%
content() %>%
html_nodes(".title a") %>%
html_text() %>% trimws()-> reply
reply
reply
GET(url, ah) %>%
content() %>%
html_nodes(".title a") %>%
html_text() %>% str_trim()-> reply
library(stringr)
library(stringr)
GET(url, ah) %>%
content() %>%
html_nodes(".title a") %>%
html_text() %>% str_trim()-> reply
reply
GET(url, ah) %>%
content() %>%
html_nodes(".title a") %>%
html_text() %>%
str_trim() %>%
gsub("\\[]") ->
reply
GET(url, ah) %>%
content() %>%
html_nodes(".title a") %>%
html_text() %>%
str_trim() %>%
gsub("\\[]", "") -> reply
reply
GET(url, ah) %>%
content() %>%
html_nodes(".title a") %>%
html_text() %>%
str_trim() %>%
gsub("\[]", "") -> reply
GET(url, ah) %>%
content() %>%
html_nodes(".title a") %>%
html_text() %>%
str_trim() %>%
gsub("\|[|]", "") -> reply
GET(url, ah) %>%
content() %>%
html_nodes(".title a") %>%
html_text() %>%
str_trim() %>%
gsub("\\|[|]", "") -> reply
GET(url, ah) %>%
content() %>%
html_nodes(".title a") %>%
html_text() %>%
str_trim() %>%
gsub("[|]", "") -> reply
GET(url, ah) %>%
content() %>%
html_nodes(".title a") %>%
html_text() %>%
str_trim() %>%
gsub("[|]", "", .) -> reply
reply
GET(url, ah) %>%
content() %>%
html_nodes(".title a") %>%
html_text() %>%
str_trim() %>%
gsub("[1]", "", .) -> reply
reply
GET(url, ah) %>%
content() %>%
html_nodes(".title a") %>%
html_text() %>%
str_trim() %>%
gsub("[1]", "") -> reply
GET(url, ah) %>%
content() %>%
html_nodes(".title a") %>%
html_text() %>%
str_trim() %>%
gsub("[|1|]", "") -> reply
GET(url, ah) %>%
content() %>%
html_nodes(".title a") %>%
html_text() %>%
str_trim() %>%
gsub("\n|\t|[*]", "", .) -> reply
reply
GET(url, ah) %>%
content() %>%
html_nodes(".title a") %>%
html_text() %>%
str_trim() %>%
gsub("\n|\t|[*]", "", .) -> reply
reply
GET(url, ah) %>%
content() %>%
html_nodes(".title a") %>%
html_text() %>%
str_trim() %>%
gsub("\n|\t|[|]", "", .) -> reply
reply
GET(url, ah) %>%
content() %>%
html_nodes(".title a") %>%
html_text() %>%
str_trim() %>%
gsub("\n|\t|[]", "", .) -> reply
GET(url, ah) %>%
content() %>%
html_nodes(".title a") %>%
html_text() %>%
str_trim() %>%
gsub("\n|\t|[:[]:]", "", .) -> reply
reply
install.packages('rvest')
install.packages('rvest')
